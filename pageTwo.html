<!DOCTYPE html>
<html>
  <head>
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests"
    />
    <meta name="viewport" content="width=device-width" , initial-scale="1.0" />
    <link rel="stylesheet" href="scss/style.css" />
    <title>Three mountains in Daejeon</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="images\mountainTabIcon.png" />
  </head>
  <body>
    <section class="sub-header-two">
      <nav>
        <a href="index.html"><img src="images/mountain.png" alt="logo" /></a>
        <div class="nav-links" id="navLinks">
          <button class="nav-close" onclick="hideMenu()">Close</button>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="pageOne.html">Gye-Jok-San</a></li>
            <li><a href="pageTwo.html">Gu-Bong-San</a></li>
            <li><a href="pageThree.html">Sik-Jang-San</a></li>
          </ul>
        </div>
        <button class="nav-open" id="openbutton" onclick="showMenu()">
          Menu
        </button>
      </nav>

      <div class="text-box">
        <h1>
          구봉산 <br />
          Gu-Bong-San
        </h1>
        <p>'Gu Bong' Mountain</p>
        <a href="#mainContent" class="main-link">Click to begin</a>
      </div>
    </section>

    <section class="pageOneContent" id="mainContent">
      <div class="description">
        <h2>
          구봉산 <br />
          Gu-Bong-San <br />
          'Gu Bong' Mountain
        </h2>
        <p>
          Gubongsan Mountain is a 264m high mountain in Seo-gu, Daejeon.
          Gubongsan Mountain is surrounded by Gasuwon-dong, Gwanjeo-dong,
          Goegok-dong, Heukseok-dong, and Giseong-dong. It is said that in the
          past, a scholar came down and did not know that the ax was rotting
          while watching the game of Go, and it was named Gubongsan Mountain
          because there were nine mountain peaks. On Yeojido Island, it is
          recorded as Gubongsan Mountain by writing Saebong, which means phoenix
          bird. In addition, it is said to be a famous mountain in the form of
          Gunsin Ipjo-hyung because nine peaks are lined up in a row, as if the
          ministers bend their backs and enter the Gyeryongsan New Town.
        </p>
      </div>

      <div id="weather">
        <h2>Current Weather</h2>
        <div class="container">
          <div class="icon">---</div>
          <div class="temp">-°C</div>
          <div class="summary">----</div>
          <div class="location"></div>
        </div>
      </div>

      <h2 id="galleryTitle">Gallery</h2>
      <section class="photoArray">
        <div>
          <img src="images\gu bong san\20160127_113637.jpg" alt="an image" />
        </div>
        <div>
          <img src="images\gu bong san\20160127_121559.jpg" alt="an image" />
        </div>
        <div>
          <img src="images\gu bong san\20160127_122011.jpg" alt="an image" />
        </div>
        <div>
          <img src="images\gu bong san\20160127_122438.jpg" alt="an image" />
        </div>
        <div>
          <img src="images\gu bong san\20160127_130243.jpg" alt="an image" />
        </div>
      </section>

      <div id="map-holder">
        <div class="map">
          <h2>Map</h2>
          <iframe
            id="can"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d18168.671561817206!2d127.43395563817599!3d36.38989066650684!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x356537ee9f285f41%3A0x44ec28988b315703!2sGyejoksan%20Fortress!5e0!3m2!1sen!2suk!4v1660769966163!5m2!1sen!2suk"
            width="600"
            height="450"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
    </section>

    <!-- call to action -->

    <section class="cta">
      <div id="footerTitleDiv">
        <a href="index.html">
          <img src="images/mountain.png" alt="logo" />
          <h1>Three Mountains in daejeon</h1>
        </a>
      </div>
      <div id="footerColumns">
        <div>
          <h4>Mountains</h4>
          <ul>
            <li><a href="pageOne.html">Gye-Jok-San</a></li>
            <li><a href="pageTwo.html">Gu-Bong-San</a></li>
            <li><a href="pageThree.html">Sik-Jang-San</a></li>
          </ul>
        </div>
        <div>
          <h4>Information</h4>
          <ul>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="privacyPolicy.html">Privacy policy</a></li>
            <!-- <li><a href="pageThree.html">Other</a></li> -->
          </ul>
        </div>
      </div>
      <div id="SMicons">
        <a href="#"><img src="images\facebook.png" alt="facebook icon" /></a>
        <a href="#"><img src="images\youtube.png" alt="youtube icon" /></a>
        <a href="#"><img src="images\twitter.png" alt="twitter icon" /></a>
        <a href="#"><img src="images\instagram.png" alt="instagram icon" /></a>
      </div>
    </section>

    <!-- javascript for menu -->

    <script>
      var navLinks = document.getElementById("navLinks");

      function showMenu() {
        navLinks.style.right = "0";
        openbutton.style.opacity = "0";
      }

      function hideMenu() {
        navLinks.style.right = "-200px";
        openbutton.style.opacity = "1";
      }

      // weather API

      // Declaring the variables
      let lon;
      let lat;
      let temperature = document.querySelector(".temp");
      let summary = document.querySelector(".summary");
      let loc = document.querySelector(".location");
      let icon = document.querySelector(".icon");
      const kelvin = 273;

      window.addEventListener("load", () => {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition((position) => {
            console.log(position);
            lon = position.coords.longitude;
            lat = position.coords.latitude;

            // API ID
            const api = "23d87b1d4de10f8bbd9992355ca9a59a";

            // API URL
            const base = `http://api.openweathermap.org/data/2.5/weather?id=1835224&appid=23d87b1d4de10f8bbd9992355ca9a59a`;

            // Calling the API
            fetch(base)
              .then((response) => {
                return response.json();
              })
              .then((data) => {
                console.log(data);
                temperature.textContent =
                  Math.floor(data.main.temp - kelvin) + "°C";
                summary.textContent = data.weather[0].description;
                loc.textContent = data.name + "," + data.sys.country;
                let icon1 = data.weather[0].icon;
                icon.innerHTML = `<img src=http://openweathermap.org/img/wn/${icon1}@2x.png>`;
                console.log("${icon1}");
              });
          });
        }
      });
    </script>
  </body>
</html>
